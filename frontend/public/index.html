<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JWT with PHP</title>
</head>

<body>
  <main>
    <form id="form">
      <label>
        E-mail
        <input name="email" type="email" placeholder="Informe seu email">
      </label>
      <label>
        Senha
        <input name="password" type="password" placeholder="Informe sua senha">
      </label>
      <button type="submit">Login</button>
      <button type="submit">Verificar Autenticação</button>
    </form>
  </main>

  <script src='https://cdnjs.cloudflare.com/ajax/libs/axios/1.3.2/axios.min.js'
    integrity='sha512-NCiXRSV460cHD9ClGDrTbTaw0muWUBf/zB/yLzJavRsPNUl9ODkUVmUHsZtKu17XknhsGlmyVoJxLg/ZQQEeGA=='
    crossorigin='anonymous'></script>

  <script>
    const form = document.querySelector('#form');
    axios.defaults.baseURL = 'http://127.0.0.1:3000';

    form.addEventListener('submit', async(event) => {
      event.preventDefault();

      try {
        const formData = new FormData(event.target);
        const response = await axios.post('login.php', formData);

        sessionStorage.setItem('session', response.data);

      } catch(error) {
        console.error(error);
      }
    });
  </script>

</body>

</html>